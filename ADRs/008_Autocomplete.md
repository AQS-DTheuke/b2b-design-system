# 008. IDE Support & Autocomplete

Last Update: 20.03.2023

## Status

accepted

## Motivation

We provide some form of intellisense, autocomplete or recommendations for our library, only for the React 
distribution as this works with Typescript.
This does not work for Vue, and it is limited in JetBrains IDEs, where it only works for consumers that use Typescript.

# Solutions

There are still divided solutions in the community to tackle this, we have implemented the ones that address the Vue 
limitations:

## Vue and VSCode
VSCode supports the community driven [Custom Elements Manifest](https://github.com/webcomponents/custom-elements-manifest), 
and provides [a way](https://github.com/microsoft/vscode-custom-data/tree/main/samples/webcomponents) to point in the 
IDE configuration to the library schema. This was implemented and documented for consumers to use:

The schema is generated by Stencil with the `docs-vscode` output target.

```js
    {
      type: 'docs-vscode',
      file: 'dist/custom-elements.json',
    }
```

Consumers can use it by creating a `.vscode` directory and a `settings.json` file. Add the following
settings after you have installed the B2B Component Library:

```json
{
    "html.customData": [
      "./node_modules/@otto-de/b2b-core-components/dist/custom-elements.json"
    ]
  }
```

## Vue and JetBrains
JetBrains is driving a different type of schema to solve the same issue. They call it [Web-Types](https://blog.jetbrains.com/webstorm/2021/01/web-types/) and it was motivated 
specifically for Vue projects, but it seems to support angular too. We implemented a script based on [other example 
solutions](https://github.com/JetBrains/web-types#distribution) provided by the JetBrains team that will generate 
the web-types, and is documented for consumers to use.

The schema is generated by Stencil running our custom script:

```js
    {
      type: 'docs-custom',
      generator: generateVueWebTypes,
    }
```

Consumers can use it by adding the following line to their package.json.

```json
  "web-types": "./node_modules/@otto-de/b2b-core-components/dist/web-types.json"
```

## React and VSCode
React currently works out of the box in VSCode even for projects that do not use Typescript. It is capable of 
reading the JSDocs from our Stencil distribution, so us or our consumers do not need to do anything special here.

## React and JetBrains
Unfortunately it does not work the same for JetBrains for consumers that do not use Typescript. And for those who 
do, the documentation does not properly appear in the pop-up box. We investigate if there is a way to improve this, 
but we did not found a solution.

## Consequences

We have improved the Developer Experience of our library by these additions.
We need to follow closely to how the community evolves to see if JetBrains provides a better way to document in the 
future, and if web-types and custom-elements communities align someday. 

We have an [open issue](https://github.com/JetBrains/web-types/issues/66) with Web-Types project to check if this 
can be used for React. This ADR will be updated once we get some response.
